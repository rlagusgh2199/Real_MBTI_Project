# Real MBTI 프로젝트 Spec

## 1. 한 줄 요약

카톡/유튜브/SNS 등 **행동 데이터**를 분석해서,
설문 없이 **행동 기반 MBTI + 성향 리포트**를 생성형 AI로 만들어 주는 시스템.

## 2. 사용 시나리오 (User Scenarios)

### 시나리오 1: 텍스트 로그 기반 MBTI 리포트 생성

1. 사용자가 웹 페이지 또는 CLI에서 텍스트 데이터를 입력한다.
   - 예: 카카오톡 대화 일부 복붙, 유튜브 시청 기록 텍스트, SNS 글들
2. 시스템이 텍스트를 전처리하고, 문장을 나누고, 불필요한 토큰을 제거한다.
3. NLP 모듈이 각 문장/메시지에 대해 다음을 분석한다.
   - 감정(긍정/부정/중립 등)
   - 주요 키워드 및 주제
   - 1인칭/타인지향 표현 비율 등
4. 분석된 특징들을 기반으로 MBTI 4축 점수를 계산한다.
   - E/I (외향/내향)
   - S/N (감각/직관)
   - T/F (사고/감정)
   - J/P (판단/인식)
5. LLM 모듈이 위 점수와 핵심 특징 요약을 입력으로 받아,
   - "요약 설명"
   - "각 축별 해석"
   - "생활/관계/일에서의 특징"
   을 자연어 리포트 형식으로 생성한다.
6. 사용자에게 결과를 보여준다.
   - MBTI 유형 + 4축 점수 그래프/표
   - 상세 리포트 텍스트

### 시나리오 2: 여러 데이터 소스를 합쳐서 분석

1. 사용자가 카톡, 유튜브, SNS 데이터를 각각 업로드하거나 붙여 넣는다.
2. 시스템이 각 데이터 소스에 대한 특징을 계산한 뒤, **통합 성향 분석** 결과를 낸다.
3. LLM이 "데이터 소스별 특징"과 "통합 결과"를 함께 설명한다.
   - 예: "대화에서는 I 성향이 강하지만, 유튜브 시청에서는 E 성향이 더 나타납니다."

(과제 범위에 따라 이 시나리오는 나중에 축소/생략 가능)

---

## 3. 주요 기능 목록 (기능 요구사항)

### 3.1 필수 기능

1. **텍스트 데이터 입력 기능**
   - 웹 UI의 텍스트 입력 박스 또는 CLI 인자 형태
   - 여러 줄 텍스트 입력 가능

2. **텍스트 전처리**
   - 불필요한 공백, 특수 문자 제거
   - 문장 단위 분리

3. **특징 추출 (Feature Extraction)**
   - 감정 분석 (간단한 라이브러리 또는 규칙 기반)
   - 키워드/주제 추출 (예: TF-IDF, 키워드 추출 라이브러리, 또는 간단 규칙)
   - 메시지 길이, 1인칭 대명사 빈도 등 간단 수치 특징

4. **MBTI 점수 계산**
   - E/I, S/N, T/F, J/P 축별로 0~100 점수 계산
   - 점수 계산 로직은 규칙 기반으로 명시 (예: 감정/키워드/행동 패턴에 가중치 부여)

5. **LLM 기반 리포트 생성**
   - LLM에게 전달할 프롬프트 생성
   - LLM API 또는 Local LLM 호출
   - 결과 텍스트를 받아서 화면에 표시

6. **결과 출력 화면**
   - MBTI 유형(예: INFP) 표시
   - 4축 점수 그래프 또는 표
   - 요약 리포트 + 상세 설명 문단

### 3.2 선택 기능 (시간 되면)

- 데이터 소스별 부분 리포트 (카톡만 / 유튜브만 / SNS만 등)
- MBTI 유형별 아이콘/색상 표시
- 리포트를 PDF나 텍스트 파일로 다운로드

---

## 4. 비기능 요구사항

1. **실행 환경**
   - 로컬에서 실행 가능 (Python 기반)
2. **반응 속도**
   - 샘플 데이터 기준 몇 초 내로 분석 완료
3. **보안**
   - 실제 서비스가 아니므로, 과제용에서는 민감 정보는 테스트용 더미 데이터 사용

---

## 5. 아키텍처 개요 (간단 설계)

### 5.1 모듈 구조 (초안)

- `data_loader.py`
  - 입력 텍스트를 받아 전처리하고 리스트/문장 단위로 반환

- `feature_extractor.py`
  - 감정 분석, 키워드 추출, 기타 수치 특징 계산

- `mbti_scorer.py`
  - 특징들을 받아 MBTI 4축 점수 계산

- `llm_reporter.py`
  - LLM 프롬프트 구성
  - LLM(API 또는 Local LLM) 호출
  - 리포트 텍스트 반환

- `app.py`
  - 전체 플로우를 순서대로 실행
  - CLI 또는 간단 웹 서버(Flask/FastAPI 등)에서 호출되는 엔트리 포인트

---

## 6. 기술 스택 (초안)

- **언어**
  - Python 3.x

- **라이브러리(후보)**
  - 텍스트 전처리: `re`, `nltk` 또는 `konlpy` 등 (간단하게 시작)
  - 감정 분석/키워드 추출: 간단한 규칙 기반 + 필요시 라이브러리
  - LLM 연동:
    - API: OpenAI, 기타 LLM API
    - 또는 Local LLM: Ollama, LM Studio 등 (시간/환경에 따라 선택)

- **실행 방식**
  - 1단계: CLI 버전으로 먼저 구현
  - 2단계: 여유가 있으면 간단한 웹 UI 추가

---

## 7. 작업 목록 (Todo 리스트 초안)

1. 프로젝트 기본 구조 만들기
   - `Real_MBTI_Project/` 폴더 생성
   - `spec/` 폴더 및 문서 추가 (현재 문서)

2. 데이터 파이프라인 1차 구현
   - `data_loader.py` 작성 (텍스트 입력 받아 전처리)
   - 예시 텍스트 데이터 준비

3. 특징 추출 로직 구현
   - 감정/키워드/간단 통계 특징 계산 로직 구현
   - 예시 입력에 대해 잘 동작하는지 테스트

4. MBTI 점수 계산 로직 설계 및 구현
   - 각 축(E/I, S/N, T/F, J/P)에 사용할 특징과 가중치 정의
   - 점수 계산 함수 작성 및 단위 테스트 작성

5. LLM 리포트 생성 모듈 구현
   - LLM API 키 설정 또는 Local LLM 연결
   - 프롬프트 템플릿 작성
   - 예시 점수로 리포트 생성 테스트

6. 전체 플로우 통합 (`app.py`)
   - 입력 → 분석 → 점수 → 리포트 출력까지 한 번에 실행

7. (선택) 간단한 웹 UI 또는 CLI UX 개선
   - 결과를 보기 좋은 형태로 출력
   - MBTI 그래프/표 출력

8. 발표 자료/리포트에 쓸 스크린샷 및 설명 정리
